{"version":3,"sources":["../../../../../../../nodes/vendors/OpenAi/v2/actions/image/edit.operation.ts"],"sourcesContent":["import FormData from 'form-data';\nimport type {\n\tIBinaryData,\n\tIDataObject,\n\tIExecuteFunctions,\n\tINodeExecutionData,\n\tINodeProperties,\n} from 'n8n-workflow';\nimport { updateDisplayOptions } from 'n8n-workflow';\n\nimport { getBinaryDataFile } from '../../../helpers/binary-data';\nimport { apiRequest } from '../../../transport';\n\nexport const properties: INodeProperties[] = [\n\t{\n\t\tdisplayName: 'Model',\n\t\tname: 'model',\n\t\ttype: 'options',\n\t\tdefault: 'gpt-image-1',\n\t\tdescription: 'The model to use for image generation',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'DALLÂ·E 2',\n\t\t\t\tvalue: 'dall-e-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'GPT Image 1',\n\t\t\t\tvalue: 'gpt-image-1',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Prompt',\n\t\tname: 'prompt',\n\t\ttype: 'string',\n\t\trequired: true,\n\t\tdefault: '',\n\t\tdescription:\n\t\t\t'A text description of the desired image(s). Maximum 1000 characters for dall-e-2, 32000 characters for gpt-image-1.',\n\t\tplaceholder: 'A beautiful sunset over mountains',\n\t\ttypeOptions: {\n\t\t\trows: 2,\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Images',\n\t\tname: 'images',\n\t\ttype: 'fixedCollection',\n\t\tplaceholder: 'Add Image',\n\t\ttypeOptions: {\n\t\t\tmultipleValues: true,\n\t\t\tmultipleValueButtonText: 'Add Image',\n\t\t},\n\t\tdefault: { values: [{ binaryPropertyName: 'data' }] },\n\t\tdescription:\n\t\t\t'Add one or more binary fields to include images with your prompt. Each image should be a png, webp, or jpg file less than 50MB. You can provide up to 16 images.',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t},\n\t\t},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'Image',\n\t\t\t\tname: 'values',\n\t\t\t\tvalues: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayName: 'Binary Field Name',\n\t\t\t\t\t\tname: 'binaryPropertyName',\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: 'data',\n\t\t\t\t\t\tplaceholder: 'e.g. data',\n\t\t\t\t\t\tdescription: 'The name of the binary field containing the image data',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Binary Field Name',\n\t\tname: 'binaryPropertyName',\n\t\ttype: 'string',\n\t\tdefault: 'data',\n\t\tplaceholder: 'e.g. data',\n\t\thint: 'The name of the input field containing the binary file data to be processed',\n\t\tdescription:\n\t\t\t'Name of the binary property which contains the image. It should be a square png file less than 4MB.',\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['dall-e-2'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Number of Images',\n\t\tname: 'n',\n\t\ttype: 'number',\n\t\tdefault: 1,\n\t\tdescription: 'The number of images to generate. Must be between 1 and 10.',\n\t\ttypeOptions: {\n\t\t\tminValue: 1,\n\t\t\tmaxValue: 10,\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Size',\n\t\tname: 'size',\n\t\ttype: 'options',\n\t\tdefault: '1024x1024',\n\t\tdescription: 'The size of the generated images',\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: '256x256',\n\t\t\t\tvalue: '256x256',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: '512x512',\n\t\t\t\tvalue: '512x512',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: '1024x1024',\n\t\t\t\tvalue: '1024x1024',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: '1024x1536 (Portrait)',\n\t\t\t\tvalue: '1024x1536',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: '1536x1024 (Landscape)',\n\t\t\t\tvalue: '1536x1024',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Auto',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tdisplayName: 'Quality',\n\t\tname: 'quality',\n\t\ttype: 'options',\n\t\tdefault: 'auto',\n\t\tdescription: 'The quality of the image that will be generated',\n\t\t// eslint-disable-next-line n8n-nodes-base/node-param-options-type-unsorted-items\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'Auto',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'High',\n\t\t\t\tvalue: 'high',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Medium',\n\t\t\t\tvalue: 'medium',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Low',\n\t\t\t\tvalue: 'low',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Standard',\n\t\t\t\tvalue: 'standard',\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Response Format',\n\t\tname: 'responseFormat',\n\t\ttype: 'options',\n\t\tdefault: 'url',\n\t\tdescription:\n\t\t\t'The format in which the generated images are returned. URLs are only valid for 60 minutes after generation.',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'URL',\n\t\t\t\tvalue: 'url',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Base64 JSON',\n\t\t\t\tvalue: 'b64_json',\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['dall-e-2'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Output Format',\n\t\tname: 'outputFormat',\n\t\ttype: 'options',\n\t\tdefault: 'png',\n\t\tdescription:\n\t\t\t'The format in which the generated images are returned. Only supported for gpt-image-1.',\n\t\toptions: [\n\t\t\t{\n\t\t\t\tname: 'PNG',\n\t\t\t\tvalue: 'png',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'JPEG',\n\t\t\t\tvalue: 'jpeg',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'WebP',\n\t\t\t\tvalue: 'webp',\n\t\t\t},\n\t\t],\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Output Compression',\n\t\tname: 'outputCompression',\n\t\ttype: 'number',\n\t\tdefault: 100,\n\t\tdescription:\n\t\t\t'The compression level (0-100%) for the generated images. Only supported for gpt-image-1 with webp or jpeg output formats.',\n\t\ttypeOptions: {\n\t\t\tminValue: 0,\n\t\t\tmaxValue: 100,\n\t\t},\n\t\tdisplayOptions: {\n\t\t\tshow: {\n\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t\toutputFormat: ['webp', 'jpeg'],\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tdisplayName: 'Options',\n\t\tname: 'options',\n\t\tplaceholder: 'Add Option',\n\t\ttype: 'collection',\n\t\tdefault: {},\n\t\toptions: [\n\t\t\t{\n\t\t\t\tdisplayName: 'User',\n\t\t\t\tname: 'user',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t\tdescription:\n\t\t\t\t\t'A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse',\n\t\t\t\tplaceholder: 'user-12345',\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Background',\n\t\t\t\tname: 'background',\n\t\t\t\ttype: 'options',\n\t\t\t\tdefault: 'auto',\n\t\t\t\tdescription:\n\t\t\t\t\t'Allows to set transparency for the background of the generated image(s). Only supported for gpt-image-1.',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Auto',\n\t\t\t\t\t\tvalue: 'auto',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Transparent',\n\t\t\t\t\t\tvalue: 'transparent',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Opaque',\n\t\t\t\t\t\tvalue: 'opaque',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Input Fidelity',\n\t\t\t\tname: 'inputFidelity',\n\t\t\t\ttype: 'options',\n\t\t\t\tdefault: 'low',\n\t\t\t\tdescription:\n\t\t\t\t\t'Control how much effort the model will exert to match the style and features of input images. Only supported for gpt-image-1.',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Low',\n\t\t\t\t\t\tvalue: 'low',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'High',\n\t\t\t\t\t\tvalue: 'high',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tdisplayOptions: {\n\t\t\t\t\tshow: {\n\t\t\t\t\t\t'/model': ['gpt-image-1'],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdisplayName: 'Image Mask',\n\t\t\t\tname: 'imageMask',\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'data',\n\t\t\t\thint: 'The name of the input field containing the binary file data to be processed',\n\t\t\t\tdescription:\n\t\t\t\t\t'Name of the binary property which contains the image. An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where image should be edited. If there are multiple images provided, the mask will be applied on the first image. Must be a valid PNG file, less than 4MB, and have the same dimensions as image.',\n\t\t\t},\n\t\t],\n\t},\n];\n\nconst displayOptions = {\n\tshow: {\n\t\toperation: ['edit'],\n\t\tresource: ['image'],\n\t},\n};\n\nexport const description = updateDisplayOptions(displayOptions, properties);\n\nexport async function execute(this: IExecuteFunctions, i: number): Promise<INodeExecutionData[]> {\n\tconst model = this.getNodeParameter('model', i);\n\tconst prompt = this.getNodeParameter('prompt', i);\n\tconst options = this.getNodeParameter('options', i, {});\n\n\tconst isGPTImage1 = model === 'gpt-image-1';\n\tconst isDallE2 = model === 'dall-e-2';\n\n\tconst n = this.getNodeParameter('n', i, 1) as number;\n\tconst size = this.getNodeParameter('size', i, '1024x1024') as string;\n\tconst defaultResponseFormat = isGPTImage1 ? 'b64_json' : 'url';\n\tconst responseFormat = this.getNodeParameter(\n\t\t'responseFormat',\n\t\ti,\n\t\tdefaultResponseFormat,\n\t) as string;\n\tconst quality = this.getNodeParameter('quality', i, 'auto') as string;\n\n\tconst formData = new FormData();\n\n\tif (isGPTImage1) {\n\t\tconst imagesParam = this.getNodeParameter('images', i, {\n\t\t\tvalues: [{ binaryPropertyName: 'data' }],\n\t\t}) as { values: Array<{ binaryPropertyName: string | IBinaryData }> };\n\n\t\tconst imagesUi = imagesParam.values ?? [];\n\t\tconst imageFieldNames = imagesUi.map((v) => v.binaryPropertyName).filter((n) => Boolean(n));\n\n\t\tfor (const fieldName of imageFieldNames) {\n\t\t\tconst { fileContent, contentType, filename } = await getBinaryDataFile(this, i, fieldName);\n\t\t\tconst buffer = await this.helpers.binaryToBuffer(fileContent);\n\t\t\tformData.append('image[]', buffer, {\n\t\t\t\tfilename,\n\t\t\t\tcontentType,\n\t\t\t});\n\t\t}\n\t} else {\n\t\tconst binaryPropertyName = this.getNodeParameter('binaryPropertyName', i);\n\t\tconst { fileContent, contentType, filename } = await getBinaryDataFile(\n\t\t\tthis,\n\t\t\ti,\n\t\t\tbinaryPropertyName,\n\t\t);\n\t\tconst buffer = await this.helpers.binaryToBuffer(fileContent);\n\t\tformData.append('image', buffer, {\n\t\t\tfilename,\n\t\t\tcontentType,\n\t\t});\n\t}\n\n\tformData.append('prompt', prompt);\n\tformData.append('model', model);\n\n\tif (n) {\n\t\tformData.append('n', n.toString());\n\t}\n\tif (size) {\n\t\tformData.append('size', size);\n\t}\n\tif (responseFormat && isDallE2) {\n\t\tformData.append('response_format', responseFormat);\n\t}\n\tif (options.user) {\n\t\tformData.append('user', options.user as string);\n\t}\n\tif (options.background && isGPTImage1) {\n\t\tformData.append('background', options.background as string);\n\t}\n\tif (options.inputFidelity && isGPTImage1) {\n\t\tformData.append('input_fidelity', options.inputFidelity as string);\n\t}\n\tif (options.outputFormat && isGPTImage1) {\n\t\tformData.append('output_format', options.outputFormat as string);\n\t}\n\tif (options.outputCompression !== undefined && options.outputCompression !== null) {\n\t\tformData.append('output_compression', String(Number(options.outputCompression)));\n\t}\n\tif (quality && isGPTImage1) {\n\t\tformData.append('quality', quality);\n\t}\n\n\tif (options.imageMask && typeof options.imageMask === 'string') {\n\t\tconst { fileContent, contentType, filename } = await getBinaryDataFile(\n\t\t\tthis,\n\t\t\ti,\n\t\t\toptions.imageMask,\n\t\t);\n\t\tconst buffer = await this.helpers.binaryToBuffer(fileContent);\n\t\tformData.append('mask', buffer, {\n\t\t\tfilename,\n\t\t\tcontentType,\n\t\t});\n\t}\n\n\tconst response = (await apiRequest.call(this, 'POST', '/images/edits', {\n\t\toption: { formData },\n\t\theaders: formData.getHeaders(),\n\t})) as IDataObject;\n\n\tconst returnData: INodeExecutionData[] = [];\n\n\tif (responseFormat === 'url') {\n\t\tconst data = (response.data as IDataObject[]) || [];\n\t\tconst entries = data.map((entry) => ({\n\t\t\tjson: entry,\n\t\t\tpairedItem: { item: i },\n\t\t}));\n\t\tArray.prototype.push.apply(returnData, entries);\n\t} else {\n\t\tfor (const entry of (response.data as IDataObject[]) || []) {\n\t\t\tconst binaryData = await this.helpers.prepareBinaryData(\n\t\t\t\tBuffer.from(entry.b64_json as string, 'base64'),\n\t\t\t\t'data',\n\t\t\t);\n\t\t\treturnData.push({\n\t\t\t\tjson: Object.assign({}, binaryData, {\n\t\t\t\t\tdata: undefined,\n\t\t\t\t}),\n\t\t\t\tbinary: {\n\t\t\t\t\tdata: binaryData,\n\t\t\t\t},\n\t\t\t\tpairedItem: { item: i },\n\t\t\t});\n\t\t}\n\t}\n\treturn returnData;\n}\n"],"mappings":"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","names":["FormData","n"]}