{"version":3,"sources":["../../../nodes/Guardrails/description.ts"],"sourcesContent":["/* eslint-disable n8n-nodes-base/node-filename-against-convention */\nimport { NodeConnectionTypes, type INodeProperties, type INodeTypeDescription } from 'n8n-workflow';\n\nimport { JAILBREAK_PROMPT } from './actions/checks/jailbreak';\nimport { NSFW_SYSTEM_PROMPT } from './actions/checks/nsfw';\nimport { PII_NAME_MAP, PIIEntity } from './actions/checks/pii';\nimport { TOPICAL_ALIGNMENT_SYSTEM_PROMPT } from './actions/checks/topicalAlignment';\nimport { configureNodeInputs } from './helpers/configureNodeInputs';\nimport { LLM_SYSTEM_RULES } from './helpers/model';\n\nconst THRESHOLD_OPTION: INodeProperties = {\n\tdisplayName: 'Threshold',\n\tname: 'threshold',\n\ttype: 'number',\n\tdefault: '',\n\tdescription: 'Minimum confidence threshold to trigger the guardrail (0.0 to 1.0)',\n\thint: 'Inputs scoring less than this will be treated as violations',\n};\n\nconst getPromptOption: (\n\tdefaultPrompt: string,\n\tcollapsible?: boolean,\n\thint?: string,\n) => INodeProperties[] = (defaultPrompt, collapsible = true, hint) => {\n\tconst promptParameters: INodeProperties = {\n\t\tdisplayName: 'Prompt',\n\t\tname: 'prompt',\n\t\ttype: 'string',\n\t\tdefault: defaultPrompt,\n\t\tdescription:\n\t\t\t'The system prompt used by the guardrail. Thresholds and JSON output are enforced by the node automatically.',\n\t\thint,\n\t\ttypeOptions: {\n\t\t\trows: 6,\n\t\t},\n\t};\n\tif (collapsible) {\n\t\treturn [\n\t\t\t{ displayName: 'Customize Prompt', name: 'customizePrompt', type: 'boolean', default: false },\n\t\t\t{ ...promptParameters, displayOptions: { show: { customizePrompt: [true] } } },\n\t\t];\n\t}\n\treturn [promptParameters];\n};\n\nconst wrapValue = (properties: INodeProperties[]) => ({\n\tdisplayName: 'Value',\n\tname: 'value',\n\tvalues: properties,\n});\n\nexport const versionDescription: INodeTypeDescription = {\n\tdisplayName: 'Guardrails',\n\tname: 'guardrails',\n\ticon: 'file:guardrails.svg',\n\tgroup: ['transform'],\n\tversion: 1,\n\tdescription:\n\t\t'Safeguard AI models from malicious input or prevent them from generating undesirable responses',\n\tdefaults: {\n\t\tname: 'Guardrails',\n\t},\n\tcodex: {\n\t\talias: ['LangChain', 'Guardrails', 'PII', 'Secret', 'Injection', 'Sanitize'],\n\t\tcategories: ['AI'],\n\t\tsubcategories: {\n\t\t\tAI: ['Agents', 'Miscellaneous', 'Root Nodes'],\n\t\t},\n\t\tresources: {\n\t\t\tprimaryDocumentation: [\n\t\t\t\t{\n\t\t\t\t\turl: 'https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.guardrails/',\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t},\n\tinputs: `={{(${configureNodeInputs})($parameter.operation)}}`,\n\toutputs: `={{\n\t\t((parameters) => {\n\t\t\tconst operation = parameters.operation ?? 'classify';\n\n\t\t\tif (operation === 'classify') {\n\t\t\t\treturn [{displayName: \"Pass\", type: \"${NodeConnectionTypes.Main}\"}, {displayName: \"Fail\", type: \"${NodeConnectionTypes.Main}\"}]\n\t\t\t}\n\n\t\t\treturn [{ displayName: \"\", type: \"${NodeConnectionTypes.Main}\"}]\n\t\t})($parameter)\n\t}}`,\n\tproperties: [\n\t\t{\n\t\t\tdisplayName:\n\t\t\t\t'Use guardrails to validate text against a set of policies (e.g. NSFW, prompt injection) or to sanitize it (e.g. personal data, secret keys)',\n\t\t\tname: 'guardrailsUsage',\n\t\t\ttype: 'notice',\n\t\t\tdefault: '',\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Operation',\n\t\t\tname: 'operation',\n\t\t\ttype: 'options',\n\t\t\tnoDataExpression: true,\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Check Text for Violations',\n\t\t\t\t\tvalue: 'classify',\n\t\t\t\t\taction: 'Check text for violations',\n\t\t\t\t\tdescription: 'Validate text against a set of policies (e.g. NSFW, prompt injection)',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Sanitize Text',\n\t\t\t\t\tvalue: 'sanitize',\n\t\t\t\t\taction: 'Sanitize text',\n\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-description-excess-final-period\n\t\t\t\t\tdescription: 'Redact text to mask personal data, secret keys, URLs, etc.',\n\t\t\t\t},\n\t\t\t],\n\t\t\tdefault: 'classify',\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Text To Check',\n\t\t\tname: 'text',\n\t\t\ttype: 'string',\n\t\t\trequired: true,\n\t\t\tdefault: '',\n\t\t\ttypeOptions: {\n\t\t\t\trows: 1,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Guardrails',\n\t\t\tname: 'guardrails',\n\t\t\tplaceholder: 'Add Guardrail',\n\t\t\ttype: 'collection',\n\t\t\tdefault: {},\n\t\t\toptions: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Keywords',\n\t\t\t\t\tname: 'keywords',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: '',\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t'This guardrail checks if specified keywords appear in the input text and can be configured to trigger tripwires based on keyword matches. Multiple keywords can be added separated by comma.',\n\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Jailbreak',\n\t\t\t\t\tname: 'jailbreak',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { threshold: 0.7 } },\n\t\t\t\t\tdescription: 'Detects attempts to jailbreak or bypass AI safety measures',\n\t\t\t\t\toptions: [wrapValue([THRESHOLD_OPTION, ...getPromptOption(JAILBREAK_PROMPT)])],\n\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'NSFW',\n\t\t\t\t\tname: 'nsfw',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { threshold: 0.7 } },\n\t\t\t\t\tdescription: 'Detects attempts to generate NSFW content',\n\t\t\t\t\toptions: [wrapValue([THRESHOLD_OPTION, ...getPromptOption(NSFW_SYSTEM_PROMPT)])],\n\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Personal Data (PII)',\n\t\t\t\t\tname: 'pii',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { type: 'all' } },\n\t\t\t\t\tdescription: 'Detects attempts to use personal data content',\n\t\t\t\t\toptions: [\n\t\t\t\t\t\twrapValue([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Type',\n\t\t\t\t\t\t\t\tname: 'type',\n\t\t\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{ name: 'All', value: 'all' },\n\t\t\t\t\t\t\t\t\t{ name: 'Selected', value: 'selected' },\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Entities',\n\t\t\t\t\t\t\t\tname: 'entities',\n\t\t\t\t\t\t\t\ttype: 'multiOptions',\n\t\t\t\t\t\t\t\tdefault: [],\n\t\t\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t\t\ttype: ['selected'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\toptions: Object.values(PIIEntity).map((entity) => ({\n\t\t\t\t\t\t\t\t\tname: PII_NAME_MAP[entity],\n\t\t\t\t\t\t\t\t\tvalue: entity,\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Secret Keys',\n\t\t\t\t\tname: 'secretKeys',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { permissiveness: 'balanced' } },\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t'Detects attempts to use secret keys in the input text. Scans text for common patterns, applies entropy analysis to detect random-looking strings.',\n\t\t\t\t\toptions: [\n\t\t\t\t\t\twrapValue([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Permissiveness',\n\t\t\t\t\t\t\t\tname: 'permissiveness',\n\t\t\t\t\t\t\t\ttype: 'options',\n\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Strict',\n\t\t\t\t\t\t\t\t\t\tvalue: 'strict',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Most sensitive, may have more false positives (commonly flag high entropy filenames or code)',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Balanced',\n\t\t\t\t\t\t\t\t\t\tvalue: 'balanced',\n\t\t\t\t\t\t\t\t\t\tdescription: 'Balanced between sensitivity and specificity',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Permissive',\n\t\t\t\t\t\t\t\t\t\tvalue: 'permissive',\n\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t'Least sensitive, may miss some secret keys (but also reduces false positives)',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Topical Alignment',\n\t\t\t\t\tname: 'topicalAlignment',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { threshold: 0.7 } },\n\t\t\t\t\tdescription: 'Detects attempts to stray from the business scope',\n\t\t\t\t\toptions: [\n\t\t\t\t\t\twrapValue([\n\t\t\t\t\t\t\tTHRESHOLD_OPTION,\n\t\t\t\t\t\t\t...getPromptOption(\n\t\t\t\t\t\t\t\tTOPICAL_ALIGNMENT_SYSTEM_PROMPT,\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t'Make sure you replace the placeholder.',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]),\n\t\t\t\t\t],\n\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'URLs',\n\t\t\t\t\tname: 'urls',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\tdefault: { value: { allowedSchemes: ['https'], allowedUrls: '' } },\n\t\t\t\t\tdescription: 'Blocks URLs that are not in the allowed list',\n\t\t\t\t\toptions: [\n\t\t\t\t\t\twrapValue([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Block All URLs Except',\n\t\t\t\t\t\t\t\tname: 'allowedUrls',\n\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t// keep placeholder to avoid limitation that removes collections with unchanged default values\n\t\t\t\t\t\t\t\tdefault: 'PLACEHOLDER',\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Multiple URLs can be added separated by comma. Leave empty to block all URLs.',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Allowed Schemes',\n\t\t\t\t\t\t\t\tname: 'allowedSchemes',\n\t\t\t\t\t\t\t\ttype: 'multiOptions',\n\t\t\t\t\t\t\t\tdefault: ['https'],\n\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-multi-options-type-unsorted-items\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'https', value: 'https' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'http', value: 'http' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'ftp', value: 'ftp' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'data', value: 'data' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'javascript', value: 'javascript' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'vbscript', value: 'vbscript' },\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line n8n-nodes-base/node-param-display-name-miscased\n\t\t\t\t\t\t\t\t\t{ name: 'mailto', value: 'mailto' },\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Block Userinfo',\n\t\t\t\t\t\t\t\tname: 'blockUserinfo',\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tdefault: true,\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Whether to block URLs with userinfo (user:pass@domain) to prevent credential injection',\n\t\t\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Sanitize Userinfo',\n\t\t\t\t\t\t\t\tname: 'blockUserinfo',\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tdefault: true,\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Whether to sanitize URLs with userinfo (user:pass@domain) to prevent credential injection',\n\t\t\t\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t\t\t\t'/operation': ['sanitize'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayName: 'Allow Subdomains',\n\t\t\t\t\t\t\t\tname: 'allowSubdomains',\n\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\tdefault: true,\n\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t'Whether to allow subdomains (e.g. sub.domain.com if domain.com is allowed)',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]),\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Custom',\n\t\t\t\t\tname: 'custom',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tsortable: true,\n\t\t\t\t\t\tmultipleValues: true,\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder: 'Add Custom Guardrail',\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tguardrail: [{ name: 'Custom Guardrail' }],\n\t\t\t\t\t},\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdisplayName: 'Guardrail',\n\t\t\t\t\t\t\tname: 'guardrail',\n\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdisplayName: 'Name',\n\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\tdescription: 'Name of the custom guardrail',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tTHRESHOLD_OPTION,\n\t\t\t\t\t\t\t\t...getPromptOption('', false),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tdisplayOptions: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Custom Regex',\n\t\t\t\t\tname: 'customRegex',\n\t\t\t\t\ttype: 'fixedCollection',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tsortable: true,\n\t\t\t\t\t\tmultipleValues: true,\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder: 'Add Custom Regex',\n\t\t\t\t\tdefault: {},\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdisplayName: 'Regex',\n\t\t\t\t\t\t\tname: 'regex',\n\t\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdisplayName: 'Name',\n\t\t\t\t\t\t\t\t\tname: 'name',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t'Name of the custom regex. Will be used for replacement when sanitizing.',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdisplayName: 'Regex',\n\t\t\t\t\t\t\t\t\tname: 'value',\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tdefault: '',\n\t\t\t\t\t\t\t\t\tdescription: 'Regex to match the input text',\n\t\t\t\t\t\t\t\t\tplaceholder: '/text/gi',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'Customize System Message',\n\t\t\tname: 'customizeSystemMessage',\n\t\t\tdescription:\n\t\t\t\t'Whether to customize the system message used by the guardrail to specify the output format',\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\t'/operation': ['classify'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdisplayName: 'System Message',\n\t\t\tname: 'systemMessage',\n\t\t\ttype: 'string',\n\t\t\tdescription:\n\t\t\t\t'The system message used by the guardrail to enforce thresholds and JSON output according to schema',\n\t\t\thint: 'This message is appended after prompts defined by guardrails',\n\t\t\tdefault: LLM_SYSTEM_RULES,\n\t\t\ttypeOptions: {\n\t\t\t\trows: 6,\n\t\t\t},\n\t\t\tdisplayOptions: {\n\t\t\t\tshow: {\n\t\t\t\t\t'/customizeSystemMessage': [true],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n};\n"],"mappings":"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","names":[]}